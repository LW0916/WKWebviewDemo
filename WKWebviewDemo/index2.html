<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>test location</title>
</head>
<body>
<div>
    <p id="output" style="width: 100% ;height: 80px;padding-top: 40px;text-align:center" ;></p>
    <img id="iamge" style="width:100px; height: 100px;"/>
    <button onclick="boncAppEngine.locationManager.start(
        function (location) {
        output.innerHTML='longitude:'+location.longitude+'</br> latitude:'+location['latitude']+'</br>speed:'+location.speed+'</br>timestamp:'+location['timestamp'];},
        function (error){
        output.innerHTML= 'locationError: '+error.description;
        })">start location</button>
    <button onclick="boncAppEngine.locationManager.stop()">stop location</button>
    <button onclick="boncAppEngine.codeScanner.scan(
        function (info){output.innerHTML= 'CodeScanInfo: '+info.codeInfo;},
        null,
        function (error){output.innerHTML= 'CodeScanError: '+error.description;})">scanCode</button>
    <button onclick="boncAppEngine.device.getDeviceInfo(
        function (device) {
        output.innerHTML='name:'+device.name+'</br> model:'+device['detailModel']+'</br>platform:'+device.platform+'</br>version:'+device['version'];
        },
        function (error){
        output.innerHTML= 'GetDeviceInfoError: '+error.description;
        })">deviceInfo</button>
    <button onclick="boncAppEngine.camera.takePhoto(boncAppEngine.mediaType.JPEG,50,
        function (imageInfo) {
        var image= document.getElementById('iamge');
        image.src=imageInfo.dataURL;
        },
        null,
        function (error){
        output.innerHTML= 'TakePhotoError: '+error.description;
        })">camera</button>
    <button onclick="boncAppEngine.device.vibrate(5,
        function (info){output.innerHTML= 'vibration over'})">vibrate</button>
    <button onclick="boncAppEngine.accelerometer.start(
        function (data) {
        output.innerHTML='X:'+data.x+'</br> Y:'+data['y']+'</br>Z:'+data.z+'</br>timeStamp:'+data['timestamp'];
        },
        function (error){
        output.innerHTML= 'accelerometerError: '+error.description;
        })">start accelerometer</button>
    <button onclick="boncAppEngine.accelerometer.stop()">stop accelerometer</button>
    <button onclick="boncAppEngine.contacts.newContact(
        function (contactInfo){output.innerHTML= 'contactID: '+contactInfo['id']},
        function(){},
        function(error){output.innerHTML= 'newContactError: '+error.description;})">create contact</button>
    <button onclick="boncAppEngine.contacts.chooseContact(
        function(conatactInfo){
        },
        function(){},
        function(error){output.innerHTML= 'chooseContactError: '+error.description;})">choose contact</button>
    <button onclick="boncAppEngine.organizerPicker.show(['104','105','106','108'],true,
        function(list){
        var content='[';
        list.forEach(function (item, index, array) {
        content=content+'{';
        var keys=Object.keys(item);
        keys.forEach(function (key, index, array) {
        content=content+key+':'+item[key]+',';
        });
        content=content+'}';
        });
        content=content+']';
        output.innerHTML=content;
        },
        function(){},
        function(error){output.innerHTML= 'chooseContactError: '+error.description;})"> organizerPicker</button>
    
    <button onclick="boncAppEngine.systemShare.screenShoot([0],
        function(info){output.innerHTML= 'screenShootInfo: '+info.codeInfo;},
        function(error){output.innerHTML= 'screenShootError: '+error.description;})">screenshoot</button>
    
    
    <button onclick="boncAppEngine.systemShare.systemShare('link',JSON.stringify({'title':'abcdX','shareUrl':'http%3a%2f%2fqixin.bonc.com.cn'}),
        function(info){output.innerHTML= 'shareInfo: '+info.codeInfo;},
        function(error){output.innerHTML= 'shareError: '+error.description;})">分享链接</button>
    
    <button onclick="boncAppEngine.systemShare.systemShare('image',JSON.stringify({'icon':'http%3a%2f%2fqixin.bonc.com.cn%2fnewcode.png'}),
        function(info){output.innerHTML= 'shareInfo: '+info.codeInfo;},
        function(error){output.innerHTML= 'shareError: '+error.description;})">分享图片</button>
    <button onclick="boncAppEngine.UMShare.screenShoot([0],
        function(info){output.innerHTML= 'screenShootInfo: '+info.codeInfo;},
        function(error){output.innerHTML= 'screenShootError: '+error.description;})">友盟screenshoot</button>
    
    
    <button onclick="boncAppEngine.UMShare.share('link',JSON.stringify({'title':'abcdX','desc':'sssss','icon':'http%3a%2f%2fqixin.bonc.com.cn%2fimg%2fbanner5-blur_8f276d2e.jpg','shareUrl':'http%3a%2f%2fqixin.bonc.com.cn'}),
        function(info){output.innerHTML= 'shareInfo: '+info.codeInfo;},
        function(error){output.innerHTML= 'shareError: '+error.description;})">友盟分享链接</button>
    
    <button onclick="boncAppEngine.UMShare.share('image',JSON.stringify({'icon':'http%3a%2f%2fqixin.bonc.com.cn%2fimg%2fbanner5-blur_8f276d2e.jpg'}),
        function(info){output.innerHTML= 'shareInfo: '+info.codeInfo;},
        function(error){output.innerHTML= 'shareError: '+error.description;})">友盟分享图片</button>
    <button onclick="boncAppEngine.appInfo.getAppVersion(
        function (appInfo) {
        output.innerHTML='AppVersion:'+appInfo.versionNo;
        },
        function (error){
        output.innerHTML= 'GetAppVersionError: '+error.description;
        })">appVersion</button>
    <button onclick="boncAppEngine.file.viewFile('http://172.16.63.108:8080/resources/demo.docx.zip',
        function(success){
        output.innerHTML= 'info: '+success.description;
        },function(error){
        output.innerHTML = 'info: '+error.description;
        })">打开文件</button>
<!--    'controller':'BCWebViewController',-->
    <button onclick="boncAppEngine.container.open(JSON.stringify({'controller':'BCPluginViewController','url':'https://www.baidu.com','params':{'params':'参数json串'}}))">打开控制器</button>
    <button onclick="boncAppEngine.permission.getPermissionInfo(JSON.stringify({'appId':'root','appSecret':'10c462eaf0480eb3ab3a9ff3c4e04268'}))">获取权限</button>
    <input type="button" value="打开我的窗口" onclick="openWin()" />
   <input type="button" value="关闭我的窗口" onclick="closeWin()" />
   <input type="button" value="打开一个alert" onclick="myAlert()" />
   <button onclick="myConfirm()">打开一个confirm</button>
   <button onclick="myPrompt()">打开一个prompt</button>
   <button onclick="ocMessageHandlers()">MessageHandlers</button>
   <button onclick="userFunc()">userFunc</button>
</div>
</body>
<script src="BoncAppEngine.js"></script>
<script>
    function openWin(){
        window.open("https://www.baidu.com.cn");
    }
    function closeWin(){
        window.close();
    }
    function myAlert(){
        alert("你好，我是一个警告框！");
    }
    function myConfirm(){
        var x;
        var r=confirm("按下按钮!");
        if (r==true){
            x="你按下了\"确定\"按钮!";
        }
        else{
            x="你按下了\"取消\"按钮!";
        }
        alert(x);
    }
    function myPrompt(){
        var x;
        var person=prompt("请输入你的名字","Harry Potter");
        if (person!=null && person!=""){
            x="你好 " + person + "! 今天感觉如何?";
        }
        alert(x);
    }
    function ocMessageHandlers( ){
        var x = {"messageBody":"哈哈"};
        window.webkit.messageHandlers.name.postMessage(x);
    }
</script>
</html>
